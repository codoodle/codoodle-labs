<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/favicon.ico" />
    <title>vanilla</title>
  </head>
  <body>
    <div>
      <div class="min-h-dvh grid grid-cols-1 grid-rows-[auto_1fr]">
        <div
          class="bg-background border-b border-separator row-[1/2] sticky top-0 z-20 h-12"
        >
          <div
            class="mx-auto max-lg:max-w-2xl max-lg:border-x max-sm:border-x-0 border-separator"
          >
            <div class="p-3 flex items-center gap-4">
              <div>
                <a href="/" aria-label="홈으로 이동">
                  <img
                    alt="Logo"
                    aria-hidden="true"
                    width="24"
                    height="24"
                    class="dark:invert"
                    src="/images/codoodle.png"
                  />
                  <span class="sr-only">Codoodle</span>
                </a>
              </div>
              <div class="ml-auto flex items-center gap-4">
                <nav class="flex items-center gap-4 text-sm">
                  <a href="/auto-save.html" class="text-primary font-semibold">
                    자동 저장
                  </a>
                </nav>
                <nav class="flex items-center gap-4 text-sm">
                  <a href="/grid.html">그리드</a>
                </nav>
                <nav class="flex items-center gap-4 text-sm">
                  <a href="/table.html">테이블</a>
                </nav>
                <i class="fa-solid fa-ice-cream text-muted-foreground/50"></i>
              </div>
            </div>
          </div>
        </div>
        <div
          class="self-stretch grid justify-center grid-cols-1 grid-rows-1 lg:grid-cols-[2.5rem_minmax(0,var(--breakpoint-xl))_2.5rem] row-[2/3]"
        >
          <div class="row-[1/2] lg:col-[2/3]">
            <div
              class="h-full mx-auto max-lg:max-w-2xl border-x max-sm:border-x-0 border-separator"
            >
              <div class="bg-background text-foreground">
                <header
                  class="sticky top-12 z-10 border-b border-separator backdrop-blur"
                >
                  <div class="mx-auto max-w-5xl px-4 py-4 sm:px-6">
                    <div>
                      <p
                        class="text-xs/6 uppercase tracking-[0.2em] text-muted-foreground"
                      >
                        Auto Save Playground
                      </p>
                      <h1 class="font-semibold leading-tight">
                        자동 저장 데모
                      </h1>
                    </div>
                  </div>
                </header>
                <main class="mx-auto max-w-5xl px-4 py-4 sm:px-6 sm:py-6">
                  <div
                    id="wrap-loading"
                    class="rounded-sm border border-border/60 bg-card shadow-sm"
                    style="display: none"
                  >
                    <div class="flex flex-col gap-3 px-6 py-8 sm:px-8">
                      <div
                        class="flex items-center gap-3 text-muted-foreground"
                      >
                        <span
                          class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary"
                        >
                          <i aria-hidden class="fa-solid fa-satellite-dish"></i>
                        </span>
                        <div>
                          <p class="text-sm font-semibold text-foreground">
                            데이터 로딩 중...
                          </p>
                          <p class="text-xs text-muted-foreground">
                            잠시만 기다려주세요
                          </p>
                        </div>
                      </div>
                      <div class="flex flex-col gap-2">
                        <div
                          class="h-3 w-1/3 rounded-full bg-muted animate-pulse"
                        ></div>
                        <div
                          class="h-3 w-2/3 rounded-full bg-muted animate-pulse"
                        ></div>
                        <div
                          class="h-3 w-1/2 rounded-full bg-muted animate-pulse"
                        ></div>
                      </div>
                    </div>
                  </div>

                  <div
                    id="wrap-content"
                    class="flex flex-col gap-6"
                    style="display: none"
                  >
                    <section class="codoodle-card">
                      <div
                        class="flex flex-col gap-4 px-6 py-6 sm:px-8 sm:py-8"
                      >
                        <div class="flex flex-wrap items-center gap-3">
                          <span
                            class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-primary/15 text-primary"
                          >
                            <i aria-hidden class="fa-solid fa-chart-line"></i>
                          </span>
                          <div>
                            <h2 class="font-semibold">자동 저장 상태</h2>
                            <p class="text-xs text-muted-foreground">
                              현재 세션의 상태와 타이머를 확인하세요.
                            </p>
                          </div>
                        </div>
                        <div class="grid grid-cols-2 gap-3 sm:grid-cols-4">
                          <div
                            class="rounded-md border border-border/60 bg-background px-4 py-3"
                          >
                            <p
                              class="text-xs uppercase tracking-wide text-muted-foreground"
                            >
                              상태
                            </p>
                            <p
                              id="warp-saving-status"
                              class="mt-1 text-base font-semibold text-foreground"
                            >
                              <span
                                id="label-saving"
                                class="inline-flex items-center gap-2"
                                style="display: none"
                              >
                                <i
                                  aria-hidden
                                  class="fa-solid fa-floppy-disk"
                                ></i>
                                저장 중
                              </span>
                              <span
                                id="label-waiting"
                                class="inline-flex items-center gap-2"
                                style="display: none"
                              >
                                <i aria-hidden class="fa-solid fa-clock"></i>
                                대기 중
                              </span>
                            </p>
                          </div>
                          <div
                            class="rounded-md border border-border/60 bg-background px-4 py-3"
                          >
                            <p
                              class="text-xs uppercase tracking-wide text-muted-foreground"
                            >
                              다음 저장까지
                            </p>
                            <p
                              id="label-countdown"
                              class="mt-1 font-mono font-semibold"
                            ></p>
                          </div>
                          <div
                            class="rounded-md border border-border/60 bg-background px-4 py-3"
                          >
                            <p
                              class="text-xs uppercase tracking-wide text-muted-foreground"
                            >
                              마지막 저장
                            </p>
                            <p
                              id="label-last-saved-at"
                              class="mt-1 text-base font-semibold"
                            ></p>
                          </div>
                          <div
                            class="rounded-md border border-border/60 bg-background px-4 py-3"
                          >
                            <p
                              class="text-xs uppercase tracking-wide text-muted-foreground"
                            >
                              변경사항
                            </p>
                            <p
                              id="label-has-changes"
                              class="mt-1 text-base font-semibold"
                            ></p>
                          </div>
                        </div>
                      </div>
                    </section>

                    <section class="codoodle-card">
                      <div
                        class="flex flex-col gap-4 px-6 py-6 sm:px-8 sm:py-8"
                      >
                        <div class="flex flex-wrap items-center gap-3">
                          <span
                            class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-secondary text-secondary-foreground"
                          >
                            <i aria-hidden class="fa-solid fa-gear"></i>
                          </span>
                          <div>
                            <h2 class="font-semibold">컨트롤</h2>
                            <p class="text-xs text-muted-foreground">
                              자동 저장을 일시정지하거나 주기를 조정하세요.
                            </p>
                          </div>
                        </div>
                        <div class="flex flex-wrap items-center gap-3">
                          <div class="codoodle-input-group">
                            <label
                              htmlFor="input-interval"
                              class="text-muted-foreground"
                            >
                              저장 주기 (초)
                            </label>
                            <input
                              id="input-interval"
                              type="number"
                              min="1"
                              max="60"
                              class="codoodle-input w-20 text-right"
                            />
                          </div>
                          <button
                            id="button-pause"
                            disabled
                            class="codoodle-button"
                          >
                            <i aria-hidden class="fa-solid fa-circle-pause"></i>
                            일시정지
                          </button>
                          <button
                            id="button-resume"
                            disabled
                            class="codoodle-button-primary"
                          >
                            <i
                              aria-hidden
                              class="fa-regular fa-circle-play"
                            ></i>
                            재개
                          </button>
                        </div>
                      </div>
                    </section>

                    <section class="codoodle-card">
                      <div
                        class="flex flex-col gap-4 px-6 py-6 sm:px-8 sm:py-8"
                      >
                        <div class="flex flex-wrap items-center gap-3">
                          <span
                            class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-primary/15 text-primary"
                          >
                            <i
                              aria-hidden
                              class="fa-solid fa-pen-to-square"
                            ></i>
                          </span>
                          <div>
                            <h2 class="font-semibold">문서 편집</h2>
                            <p class="text-xs text-muted-foreground">
                              입력한 내용은 변경 감지 후 자동 저장됩니다.
                            </p>
                          </div>
                        </div>
                        <form class="space-y-5" @submit.prevent>
                          <div class="space-y-2">
                            <label
                              htmlFor="input-title"
                              class="block text-sm font-medium text-foreground"
                            >
                              제목
                            </label>
                            <input
                              id="input-title"
                              v-model="title"
                              type="text"
                              class="codoodle-input"
                              placeholder="문서 제목을 입력하세요"
                            />
                          </div>

                          <div class="space-y-2">
                            <label
                              htmlFor="input-content"
                              class="block text-sm font-medium text-foreground"
                            >
                              내용
                            </label>
                            <textarea
                              id="input-content"
                              v-model="content"
                              rows="10"
                              class="codoodle-textarea"
                              placeholder="문서 내용을 입력하세요..."
                            ></textarea>
                          </div>

                          <div class="space-y-2">
                            <label
                              htmlFor="input-tags"
                              class="block text-sm font-medium text-foreground"
                            >
                              태그 (쉼표로 구분)
                            </label>
                            <input
                              id="input-tags"
                              v-model="tags"
                              type="text"
                              class="codoodle-input"
                              placeholder="예: typescript, react, web"
                            />
                          </div>
                        </form>
                      </div>
                    </section>

                    <section class="codoodle-card-secondary">
                      <h3
                        class="mb-2 flex items-center gap-2 text-sm font-semibold text-secondary-foreground"
                      >
                        <i aria-hidden class="fa-regular fa-lightbulb"></i>
                        <span>사용 방법</span>
                      </h3>
                      <ul
                        class="space-y-2 text-sm text-secondary-foreground/80"
                      >
                        <li class="flex items-start gap-2">
                          <i
                            aria-hidden
                            class="fa-solid fa-circle-check mt-0.5 text-secondary-foreground"
                          ></i>
                          <span
                            >입력 필드를 수정하면 자동으로 변경사항이
                            감지됩니다.</span
                          >
                        </li>
                        <li class="flex items-start gap-2">
                          <i
                            aria-hidden
                            class="fa-solid fa-circle-check mt-0.5 text-secondary-foreground"
                          ></i>
                          <span
                            >설정한 주기마다 자동으로 저장됩니다 (기본
                            5초).</span
                          >
                        </li>
                        <li class="flex items-start gap-2">
                          <i
                            aria-hidden
                            class="fa-solid fa-circle-check mt-0.5 text-secondary-foreground"
                          ></i>
                          <span
                            >저장 중에는 “저장 중” 상태와 아이콘이
                            표시됩니다.</span
                          >
                        </li>
                        <li class="flex items-start gap-2">
                          <i
                            aria-hidden
                            class="fa-solid fa-circle-check mt-0.5 text-secondary-foreground"
                          ></i>
                          <span>
                            일시정지/재개 버튼으로 자동 저장을 제어할 수
                            있습니다.
                          </span>
                        </li>
                        <li class="flex items-start gap-2">
                          <i
                            aria-hidden
                            class="fa-solid fa-circle-check mt-0.5 text-secondary-foreground"
                          ></i>
                          <span>콘솔(F12)을 열어 저장 로그를 확인하세요.</span>
                        </li>
                        <li class="flex items-start gap-2">
                          <i
                            aria-hidden
                            class="fa-solid fa-circle-check mt-0.5 text-secondary-foreground"
                          ></i>
                          <span
                            >10% 확률로 에러가 발생하도록 시뮬레이션되어
                            있습니다.</span
                          >
                        </li>
                      </ul>
                    </section>
                  </div>
                </main>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/src/auto-save.ts"></script>
  </body>
</html>
